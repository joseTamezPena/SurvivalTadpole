"0",""
"0","subjectsID <- rownames(validBaselineTadpole)"
"0","visitsID <- unique(TADPOLE_D1_D2$VISCODE)"
"0","baseDx <- TADPOLE_D1_D2[TADPOLE_D1_D2$VISCODE==""bl"",c(""PTID"",""DX"",""EXAMDATE"")]"
"0","rownames(baseDx) <- baseDx$PTID "
"0","baseDx <- baseDx[subjectsID,]"
"0","lastDx <- baseDx"
"0","toDementia <- baseDx"
"0","table(lastDx$DX)"
"1","
"
"1","Dementia "
"1","     MCI "
"1","      NL "
"1","
"
"1","     244 "
"1","     711 "
"1","     452 "
"1","
"
"0","hasDementia <- lastDx$PTID[str_detect(lastDx$DX,""Dementia"")]"
"0",""
"0",""
"0","for (vid in visitsID)"
"0","{"
"0","  DxValue <- TADPOLE_D1_D2[TADPOLE_D1_D2$VISCODE==vid,c(""PTID"",""DX"",""EXAMDATE"")]"
"0","  rownames(DxValue) <- DxValue$PTID "
"0","  DxValue <- DxValue[DxValue$PTID %in% subjectsID,]"
"0","  noDX <- DxValue$PTID[nchar(DxValue$DX) < 1]"
"0","  print(length(noDX))"
"0","  DxValue[noDX,] <- lastDx[noDX,]"
"0","  inLast <- lastDx$PTID[lastDx$PTID %in% DxValue$PTID]"
"0","  print(length(inLast))"
"0","  lastDx[inLast,] <- DxValue[inLast,]"
"0","  noDementia <- !(toDementia$PTID %in% hasDementia)"
"0","  toDementia[noDementia,] <- lastDx[noDementia,]"
"0","  hasDementia <- unique(c(hasDementia,lastDx$PTID[str_detect(lastDx$DX,""Dementia"")]))"
"0","}"
"1","[1]"
"1"," 0"
"1","
"
"1","[1]"
"1"," 1407"
"1","
"
"1","[1]"
"1"," 2"
"1","
"
"1","[1]"
"1"," 1320"
"1","
"
"1","[1]"
"1"," 6"
"1","
"
"1","[1]"
"1"," 1212"
"1","
"
"1","[1]"
"1"," 23"
"1","
"
"1","[1]"
"1"," 1090"
"1","
"
"1","[1]"
"1"," 802"
"1","
"
"1","[1]"
"1"," 1054"
"1","
"
"1","[1]"
"1"," 29"
"1","
"
"1","[1]"
"1"," 706"
"1","
"
"1","[1]"
"1"," 20"
"1","
"
"1","[1]"
"1"," 212"
"1","
"
"1","[1]"
"1"," 14"
"1","
"
"1","[1]"
"1"," 167"
"1","
"
"1","[1]"
"1"," 32"
"1","
"
"1","[1]"
"1"," 551"
"1","
"
"1","[1]"
"1"," 25"
"1","
"
"1","[1]"
"1"," 297"
"1","
"
"1","[1]"
"1"," 18"
"1","
"
"1","[1]"
"1"," 130"
"1","
"
"1","[1]"
"1"," 665"
"1","
"
"1","[1]"
"1"," 665"
"1","
"
"1","[1]"
"1"," 112"
"1","
"
"1","[1]"
"1"," 112"
"1","
"
"1","[1]"
"1"," 176"
"1","
"
"1","[1]"
"1"," 176"
"1","
"
"1","[1]"
"1"," 177"
"1","
"
"1","[1]"
"1"," 177"
"1","
"
"1","[1]"
"1"," 624"
"1","
"
"1","[1]"
"1"," 624"
"1","
"
"1","[1]"
"1"," 251"
"1","
"
"1","[1]"
"1"," 251"
"1","
"
"1","[1]"
"1"," 159"
"1","
"
"1","[1]"
"1"," 159"
"1","
"
"1","[1]"
"1"," 7"
"1","
"
"1","[1]"
"1"," 7"
"1","
"
"1","[1]"
"1"," 17"
"1","
"
"1","[1]"
"1"," 99"
"1","
"
"1","[1]"
"1"," 9"
"1","
"
"1","[1]"
"1"," 63"
"1","
"
"1","[1]"
"1"," 1"
"1","
"
"1","[1]"
"1"," 1"
"1","
"
"0","table(lastDx$DX)"
"1","
"
"1","       Dementia "
"1","Dementia to MCI "
"1","            MCI "
"1","MCI to Dementia "
"1","      MCI to NL "
"1","             NL "
"1"," NL to Dementia "
"1","      NL to MCI "
"1","
"
"1","            426 "
"1","              2 "
"1","            460 "
"1","             80 "
"1","              7 "
"1","            405 "
"1","              1 "
"1","             26 "
"1","
"
"0","baseMCI <-baseDx$PTID[baseDx$DX == ""MCI""]"
"0","lastDementia <- lastDx$PTID[str_detect(lastDx$DX,""Dementia"")]"
"0","lastDementia2 <- toDementia$PTID[str_detect(toDementia$DX,""Dementia"")]"
"0","lastNL <- lastDx$PTID[str_detect(lastDx$DX,""NL"")]"
"0",""
"0","MCIatBaseline <- baseDx[baseMCI,]"
"0","MCIatEvent <- toDementia[baseMCI,]"
"0","MCIatLast <- lastDx[baseMCI,]"
"0",""
"0","MCIconverters <- MCIatBaseline[baseMCI %in% lastDementia,]"
"0","MCI_No_converters <- MCIatBaseline[!(baseMCI %in% MCIconverters$PTID),]"
"0","MCIconverters$TimeToEvent <- (as.Date(toDementia[MCIconverters$PTID,""EXAMDATE""]) "
"0","                                   - as.Date(MCIconverters$EXAMDATE))"
"0",""
"0","sum(MCIconverters$TimeToEvent ==0)"
"1","[1]"
"1"," 0"
"1","
"
"0","MCIconverters$AtEventDX <- MCIatEvent[MCIconverters$PTID,""DX""]"
"0","MCIconverters$LastDX <- MCIatLast[MCIconverters$PTID,""DX""]"
"0",""
"0","MCI_No_converters$TimeToEvent <- (as.Date(lastDx[MCI_No_converters$PTID,""EXAMDATE""]) "
"0","                                   - as.Date(MCI_No_converters$EXAMDATE))"
"0",""
"0","MCI_No_converters$LastDX <- MCIatLast[MCI_No_converters$PTID,""DX""]"
"0",""
"0","MCI_No_converters <- subset(MCI_No_converters,TimeToEvent > 0)"
"0",""
"0",""
"0",""
