"0",""
"0","subjectsID <- rownames(validBaselineTadpole)"
"0","visitsID <- unique(TADPOLE_D1_D2$VISCODE)"
"0","baseDx <- TADPOLE_D1_D2[TADPOLE_D1_D2$VISCODE==""bl"",c(""PTID"",""DX"",""EXAMDATE"")]"
"0","rownames(baseDx) <- baseDx$PTID "
"0","baseDx <- baseDx[subjectsID,]"
"0","lastDx <- baseDx"
"0","toDementia <- baseDx"
"0","table(lastDx$DX)"
"1","
"
"1","Dementia "
"1","     MCI "
"1","      NL "
"1","
"
"1","     154 "
"1","     478 "
"1","     302 "
"1","
"
"0","hasDementia <- lastDx$PTID[str_detect(lastDx$DX,""Dementia"")]"
"0",""
"0",""
"0","for (vid in visitsID)"
"0","{"
"0","  DxValue <- TADPOLE_D1_D2[TADPOLE_D1_D2$VISCODE==vid,c(""PTID"",""DX"",""EXAMDATE"")]"
"0","  rownames(DxValue) <- DxValue$PTID "
"0","  DxValue <- DxValue[DxValue$PTID %in% subjectsID,]"
"0","  noDX <- DxValue$PTID[nchar(DxValue$DX) < 1]"
"0","  print(length(noDX))"
"0","  DxValue[noDX,] <- lastDx[noDX,]"
"0","  inLast <- lastDx$PTID[lastDx$PTID %in% DxValue$PTID]"
"0","  print(length(inLast))"
"0","  lastDx[inLast,] <- DxValue[inLast,]"
"0","  noDementia <- !(toDementia$PTID %in% hasDementia)"
"0","  toDementia[noDementia,] <- lastDx[noDementia,]"
"0","  hasDementia <- unique(c(hasDementia,lastDx$PTID[str_detect(lastDx$DX,""Dementia"")]))"
"0","}"
"1","[1]"
"1"," 0"
"1","
"
"1","[1]"
"1"," 934"
"1","
"
"1","[1]"
"1"," 2"
"1","
"
"1","[1]"
"1"," 889"
"1","
"
"1","[1]"
"1"," 5"
"1","
"
"1","[1]"
"1"," 818"
"1","
"
"1","[1]"
"1"," 19"
"1","
"
"1","[1]"
"1"," 741"
"1","
"
"1","[1]"
"1"," 573"
"1","
"
"1","[1]"
"1"," 695"
"1","
"
"1","[1]"
"1"," 23"
"1","
"
"1","[1]"
"1"," 465"
"1","
"
"1","[1]"
"1"," 10"
"1","
"
"1","[1]"
"1"," 106"
"1","
"
"1","[1]"
"1"," 8"
"1","
"
"1","[1]"
"1"," 81"
"1","
"
"1","[1]"
"1"," 26"
"1","
"
"1","[1]"
"1"," 389"
"1","
"
"1","[1]"
"1"," 20"
"1","
"
"1","[1]"
"1"," 178"
"1","
"
"1","[1]"
"1"," 9"
"1","
"
"1","[1]"
"1"," 64"
"1","
"
"1","[1]"
"1"," 556"
"1","
"
"1","[1]"
"1"," 556"
"1","
"
"1","[1]"
"1"," 56"
"1","
"
"1","[1]"
"1"," 56"
"1","
"
"1","[1]"
"1"," 87"
"1","
"
"1","[1]"
"1"," 87"
"1","
"
"1","[1]"
"1"," 87"
"1","
"
"1","[1]"
"1"," 87"
"1","
"
"1","[1]"
"1"," 389"
"1","
"
"1","[1]"
"1"," 389"
"1","
"
"1","[1]"
"1"," 143"
"1","
"
"1","[1]"
"1"," 143"
"1","
"
"1","[1]"
"1"," 77"
"1","
"
"1","[1]"
"1"," 77"
"1","
"
"1","[1]"
"1"," 4"
"1","
"
"1","[1]"
"1"," 4"
"1","
"
"1","[1]"
"1"," 7"
"1","
"
"1","[1]"
"1"," 47"
"1","
"
"1","[1]"
"1"," 6"
"1","
"
"1","[1]"
"1"," 34"
"1","
"
"1","[1]"
"1"," 0"
"1","
"
"1","[1]"
"1"," 0"
"1","
"
"0","table(lastDx$DX)"
"1","
"
"1","       Dementia "
"1","Dementia to MCI "
"1","            MCI "
"1","MCI to Dementia "
"1","      MCI to NL "
"1","             NL "
"1","      NL to MCI "
"1","
"
"1","            273 "
"1","              2 "
"1","            315 "
"1","             46 "
"1","              6 "
"1","            275 "
"1","             17 "
"1","
"
"0","baseMCI <-baseDx$PTID[baseDx$DX == ""MCI""]"
"0","lastDementia <- lastDx$PTID[str_detect(lastDx$DX,""Dementia"")]"
"0","lastDementia2 <- toDementia$PTID[str_detect(toDementia$DX,""Dementia"")]"
"0","lastNL <- lastDx$PTID[str_detect(lastDx$DX,""NL"")]"
"0",""
"0","MCIatBaseline <- baseDx[baseMCI,]"
"0","MCIatEvent <- toDementia[baseMCI,]"
"0","MCIatLast <- lastDx[baseMCI,]"
"0",""
"0","MCIconverters <- MCIatBaseline[baseMCI %in% lastDementia,]"
"0","MCI_No_converters <- MCIatBaseline[!(baseMCI %in% MCIconverters$PTID),]"
"0","MCIconverters$TimeToEvent <- (as.Date(toDementia[MCIconverters$PTID,""EXAMDATE""]) "
"0","                                   - as.Date(MCIconverters$EXAMDATE))"
"0",""
"0","sum(MCIconverters$TimeToEvent ==0)"
"1","[1]"
"1"," 0"
"1","
"
"0","MCIconverters$AtEventDX <- MCIatEvent[MCIconverters$PTID,""DX""]"
"0","MCIconverters$LastDX <- MCIatLast[MCIconverters$PTID,""DX""]"
"0",""
"0","MCI_No_converters$TimeToEvent <- (as.Date(lastDx[MCI_No_converters$PTID,""EXAMDATE""]) "
"0","                                   - as.Date(MCI_No_converters$EXAMDATE))"
"0",""
"0","MCI_No_converters$LastDX <- MCIatLast[MCI_No_converters$PTID,""DX""]"
"0",""
"0","MCI_No_converters <- subset(MCI_No_converters,TimeToEvent > 0)"
"0",""
"0",""
"0",""
